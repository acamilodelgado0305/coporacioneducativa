<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Evaluaci√≥n Limpieza Hospitalaria | CertiTec Colombia</title>
    <link rel="icon" href="logopagina.png" type="image/png" />
    <meta
      name="description"
      content="Certificaci√≥n en Limpieza y Desinfecci√≥n Hospitalaria. Evaluaci√≥n en l√≠nea."
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      :root {
        --primary: #006d77; /* Verde azulado cl√≠nico/hospitalario */
        --secondary: #83c5be; 
        --bg-form: #edf6f9;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--bg-form);
        color: #334155;
        padding-top: 80px;
      }

      .fade-in {
        animation: fadeIn 0.4s ease-in-out;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
        font-weight: 600;
        padding: 1rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
        box-shadow: 0 4px 6px -1px rgba(0, 109, 119, 0.2);
      }
      .btn-primary:hover {
        background-color: #005f68;
        transform: translateY(-1px);
      }
      .btn-primary:disabled {
        background-color: #94a3b8;
        cursor: not-allowed;
        transform: none;
      }

      .input-field {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        outline: none;
        transition: border-color 0.3s;
        font-size: 16px;
      }
      .input-field:focus {
        border-color: var(--primary);
        background: #fff;
      }

      .main-card {
        border-top: 8px solid var(--primary);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      }
    </style>

    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "639715789143642");
      fbq("track", "PageView");
    </script>
  </head>

  <body class="flex flex-col items-center min-h-screen pb-10 px-4">
    
    <header class="fixed top-0 left-0 w-full bg-white shadow-md z-50 h-[70px] flex items-center px-4 md:px-8 justify-between">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-teal-700 rounded flex items-center justify-center text-white font-bold">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
            </div>
            <span class="font-bold text-lg text-slate-800 tracking-tight">CertiTec <span class="text-teal-700">Salud</span></span>
        </div>
        <a href="https://wa.me/573107941580" target="_blank" class="flex items-center gap-2 text-sm font-medium text-green-600 bg-green-50 px-3 py-1.5 rounded-full hover:bg-green-100 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
            <span class="hidden sm:inline">Soporte</span>
        </a>
    </header>

    <main class="w-full max-w-2xl">
      
      <div id="quiz-section" class="bg-white rounded-xl p-6 md:p-8 main-card fade-in">
        <div class="text-center mb-6">
          <h1 class="text-2xl font-bold text-slate-800 mb-2">Curso de Limpieza Hospitalaria</h1>
          <p class="text-slate-500 text-sm">Responde para validar tus conocimientos y certificarte.</p>
        </div>

        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
            <div id="progress-bar" class="bg-teal-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>

        <div id="quiz-content" class="w-full">
          </div>
      </div>

      <div id="certificate-section" class="hidden bg-white rounded-xl p-6 md:p-8 main-card fade-in">
        
        <div id="modal-step-1">
          <div class="text-center border-b pb-4 mb-4">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-green-100 text-green-600 rounded-full mb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            </div>
            <h3 class="text-2xl font-bold text-slate-800">¬°M√≥dulo Aprobado!</h3>
            <p class="text-slate-600 text-sm mt-1" id="final-score-text"></p>
          </div>

          <div class="bg-teal-50 p-4 rounded-lg mb-6 border border-teal-100 text-center">
             <p class="text-sm text-teal-800 font-medium mb-2">Certificado de Bioseguridad y Limpieza</p>
             <div class="text-xs text-teal-600">Normativa Vigente ‚Ä¢ V√°lido a nivel nacional</div>
          </div>

          <form id="data-form" onsubmit="return false;">
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Nombre Completo</label>
                <input id="fullName" type="text" class="input-field uppercase" placeholder="EJ: MARIA RODRIGUEZ" required />
              </div>
              
              <div class="grid grid-cols-3 gap-3">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-1">Tipo</label>
                    <select id="documentType" class="input-field bg-white">
                        <option value="CC">C.C.</option>
                        <option value="CE">C.E.</option>
                        <option value="PPT">PPT</option>
                        <option value="TI">T.I.</option>
                    </select>
                </div>
                <div class="col-span-2">
                    <label class="block text-sm font-medium text-slate-700 mb-1">N√∫mero</label>
                    <input id="documentId" type="tel" class="input-field" placeholder="1234567890" required />
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Correo Electr√≥nico</label>
                <input id="email" type="email" class="input-field" placeholder="tucorreo@email.com" />
              </div>
            </div>

            <button id="go-to-step-2-btn" class="btn-primary w-full mt-8 flex justify-center items-center gap-2">
                Continuar al Pago
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
            </button>
          </form>
        </div>

        <div id="modal-step-2" class="hidden">
            <div class="flex items-center mb-6">
                <button id="back-to-step-1" class="text-slate-400 hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></button>
                <h3 class="text-xl font-bold text-slate-800 ml-2">M√©todo de Pago</h3>
            </div>
            
            <div class="bg-teal-50 border border-teal-100 rounded-lg p-4 mb-6 text-center">
                <p class="text-slate-600 text-sm">Valor Certificaci√≥n</p>
                <p class="text-3xl font-bold text-teal-900">$20.000 COP</p>
            </div>

            <div class="space-y-3">
                <a href="https://linkdepagospse.rappipay.co/kZYKi5" target="_blank" class="block w-full border-2 border-teal-600 bg-teal-50 hover:bg-teal-100 rounded-xl p-4 flex items-center justify-between transition">
                    <div class="flex items-center gap-3">
                        <img src="https://microempresas.co/wp-content/uploads/2024/12/pse-logo-big.webp" class="h-8 object-contain" alt="PSE">
                        <div class="text-left">
                            <div class="font-bold text-teal-900">Pagar con PSE</div>
                            <div class="text-xs text-teal-700">Activaci√≥n inmediata</div>
                        </div>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-teal-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                </a>

                <div class="border rounded-xl p-4">
                    <p class="font-bold text-slate-800 mb-2">Transferencia Manual:</p>
                    <div class="text-sm text-slate-600 space-y-2 font-mono bg-slate-50 p-3 rounded">
                        <div class="flex justify-between"><span>Nequi / Daviplata:</span> <strong>322 326 7797</strong></div>
                        <div class="flex justify-between"><span>Bancolombia:</span> <strong>816-589697-49</strong></div>
                    </div>
                    <p class="text-xs text-slate-400 mt-2 text-center">Debe enviar comprobante para activar.</p>
                </div>
            </div>

            <button id="go-to-step-3-btn" class="btn-primary w-full mt-6">
                Ya pagu√©, subir comprobante
            </button>
        </div>

        <div id="modal-step-3" class="hidden text-center">
             <div class="mb-6">
                <h3 class="text-xl font-bold text-slate-800">Validaci√≥n Final</h3>
                <p class="text-slate-600 text-sm mt-1">Sube tu comprobante para generar el carnet.</p>
             </div>

             <div class="space-y-4">
                <div class="relative border-2 border-dashed border-gray-300 rounded-lg p-6 hover:bg-gray-50 transition cursor-pointer" onclick="document.getElementById('receiptFile').click()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg>
                    <span class="text-sm text-gray-500" id="file-text">Toca aqu√≠ para subir foto</span>
                    <input type="file" id="receiptFile" class="hidden" accept="image/*,application/pdf" onchange="document.getElementById('file-text').innerText = this.files[0].name; document.getElementById('file-text').classList.add('text-teal-600', 'font-bold');">
                </div>

                <button id="generate-whatsapp-btn" class="w-full bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold py-4 rounded-lg shadow-lg flex items-center justify-center gap-2 transition transform active:scale-95">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592z"/></svg>
                    Enviar por WhatsApp
                </button>
             </div>
        </div>

      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        
        // --- PREGUNTAS DE LIMPIEZA HOSPITALARIA ---
        const questions = [
          { 
            q: "¬øQu√© residuos deben ir depositados en la bolsa ROJA?", 
            opt: ["Papel y cart√≥n", "Residuos ordinarios", "Residuos biol√≥gicos o infecciosos"], 
            a: 2,
            hint: "El rojo representa peligro o riesgo biol√≥gico (sangre, fluidos, gasas usadas)."
          },
          { 
            q: "¬øCu√°l es la t√©cnica correcta de limpieza de superficies?", 
            opt: ["Del √°rea m√°s sucia a la m√°s limpia", "Del √°rea m√°s limpia a la m√°s sucia", "En c√≠rculos desordenados"], 
            a: 1,
            hint: "Siempre debemos limpiar de lo limpio a lo sucio para no arrastrar contaminantes a √°reas est√©riles."
          },
          { 
            q: "¬øQu√© elementos de protecci√≥n personal (EPP) son b√°sicos para limpieza?", 
            opt: ["Solo guantes", "Guantes industriales, tapabocas y gafas/visor", "Ropa de calle"], 
            a: 1,
            hint: "Debes proteger tus manos, v√≠as respiratorias y mucosas de salpicaduras qu√≠micas."
          },
          { 
            q: "Ante un derrame de sangre en el piso, ¬øqu√© se hace primero?", 
            opt: ["Trapear inmediatamente", "Aplicar desinfectante sobre el derrame para inactivar", "Dejar secar"], 
            a: 1,
            hint: "Primero se inactiva el virus/bacteria con cloro, se deja actuar y luego se limpia."
          },
          { 
            q: "¬øQu√© es la t√©cnica del 'Doble Balde'?", 
            opt: ["Usar dos traperos sucios", "Un balde con soluci√≥n limpiadora y otro con agua para enjuagar", "Lavar dos veces al d√≠a"], 
            a: 1,
            hint: "Se usa para no contaminar el agua limpia con el trapero sucio."
          },
          { 
            q: "Las soluciones de Hipoclorito (cloro) deben prepararse:", 
            opt: ["Diariamente y rotularse", "Una vez a la semana", "Mensualmente"], 
            a: 0,
            hint: "El cloro pierde su efecto con la luz y el calor, debe prepararse cada d√≠a."
          },
          { 
            q: "¬øCu√°ndo es obligatorio el lavado de manos?", 
            opt: ["Solo al llegar a casa", "Antes y despu√©s de usar guantes", "Cuando se vean sucias"], 
            a: 1,
            hint: "El uso de guantes no reemplaza el lavado de manos. Se hace antes de ponerlos y al quitarlos."
          }
        ];

        let currentQ = 0;
        const quizContainer = document.getElementById('quiz-content');
        const progressBar = document.getElementById('progress-bar');
        
        function renderQuestion() {
            const progress = ((currentQ) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;

            const q = questions[currentQ];
            
            let html = `
                <div class="fade-in">
                    <div class="text-xs font-bold text-teal-600 mb-2 uppercase tracking-wider">Pregunta ${currentQ + 1} de ${questions.length}</div>
                    <h2 class="text-xl font-bold text-gray-800 mb-4 leading-snug">${q.q}</h2>
                    <div class="space-y-3">
            `;
            
            q.opt.forEach((opt, index) => {
                html += `
                <button onclick="handleAnswer(this, ${index})" class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-teal-400 hover:bg-teal-50 transition-all group flex items-center justify-between relative">
                    <span class="font-medium text-slate-700">${opt}</span>
                    <div class="status-icon w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center"></div>
                </button>`;
            });
            
            html += `
                    </div>
                    <div id="feedback-msg" class="mt-4 hidden p-3 rounded-lg text-sm font-medium text-center animate-pulse"></div>
                </div>`;
            
            quizContainer.innerHTML = html;
        }

        window.handleAnswer = (btn, index) => {
            const q = questions[currentQ];
            const feedbackDiv = document.getElementById('feedback-msg');
            const allBtns = document.querySelectorAll('.option-btn');

            if (index === q.a) {
                btn.classList.remove('border-gray-200', 'hover:bg-teal-50');
                btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                btn.querySelector('.status-icon').innerHTML = '‚úì';
                btn.querySelector('.status-icon').classList.add('border-green-600', 'bg-green-600', 'text-white');
                
                feedbackDiv.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'border-orange-200');
                feedbackDiv.classList.add('bg-green-50', 'text-green-700');
                feedbackDiv.innerHTML = `¬°Excelente! Protocolo correcto. ‚úÖ`;

                allBtns.forEach(b => b.disabled = true);

                setTimeout(() => {
                    currentQ++;
                    if (currentQ < questions.length) {
                        renderQuestion();
                    } else {
                        progressBar.style.width = "100%";
                        finishQuiz();
                    }
                }, 1200);

            } else {
                btn.classList.remove('border-gray-200', 'hover:border-teal-400');
                btn.classList.add('bg-red-50', 'border-red-400', 'text-red-700', 'opacity-75');
                btn.querySelector('.status-icon').innerHTML = '‚úï';
                btn.querySelector('.status-icon').classList.add('border-red-400', 'text-red-400');
                btn.disabled = true;

                feedbackDiv.classList.remove('hidden', 'bg-green-50', 'text-green-700');
                feedbackDiv.classList.add('bg-orange-50', 'text-orange-800', 'border', 'border-orange-200');
                feedbackDiv.innerHTML = `‚ö†Ô∏è <strong>Incorrecto.</strong><br>Tip: ${q.hint}`;
            }
        };

        function finishQuiz() {
            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('certificate-section').classList.remove('hidden');
            document.getElementById('final-score-text').innerText = `Evaluaci√≥n de Limpieza completada exitosamente.`;
            fbq('track', 'CompleteRegistration');
        }

        document.getElementById('go-to-step-2-btn').addEventListener('click', () => {
            const name = document.getElementById('fullName').value;
            const id = document.getElementById('documentId').value;
            if(!name || !id) { alert("Completa los datos del certificado"); return; }
            document.getElementById('modal-step-1').classList.add('hidden');
            document.getElementById('modal-step-2').classList.remove('hidden');
            fbq('track', 'InitiateCheckout');
        });

        document.getElementById('back-to-step-1').addEventListener('click', () => {
            document.getElementById('modal-step-2').classList.add('hidden');
            document.getElementById('modal-step-1').classList.remove('hidden');
        });

        document.getElementById('go-to-step-3-btn').addEventListener('click', () => {
            document.getElementById('modal-step-2').classList.add('hidden');
            document.getElementById('modal-step-3').classList.remove('hidden');
        });

        document.getElementById('generate-whatsapp-btn').addEventListener('click', () => {
            const name = document.getElementById('fullName').value;
            const docType = document.getElementById('documentType').value;
            const docId = document.getElementById('documentId').value;
            const email = document.getElementById('email').value;
            
            // MENSAJE PERSONALIZADO PARA LIMPIEZA
            const message = `Hola CertiTec, realic√© el curso de *Limpieza Hospitalaria* y el pago.\n\n*DATOS CERTIFICADO:* \nNombre: ${name}\nDocumento: ${docType} ${docId}\nEmail: ${email}\n\nAdjunto comprobante üëá`;
            
            const whatsappUrl = `https://wa.me/573107941580?text=${encodeURIComponent(message)}`;
            fbq('track', 'Purchase', {value: 20000, currency: 'COP'});
            window.open(whatsappUrl, '_blank');
        });

        renderQuestion();
      });
    </script>
  </body>
</html>